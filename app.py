import streamlit as st
import pandas as pd

# –ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
st.title("–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –ø–∏—Ç–∞–Ω–∏—è –Ω–∞ –Ω–µ–¥–µ–ª—é –¥–ª—è —Å–µ–º—å–∏")
st.write("–ö–∞–∂–¥—ã–π —á–ª–µ–Ω —Å–µ–º—å–∏ –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å –±–ª—é–¥–∞ –Ω–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å.")

# –°–ø–∏—Å–æ–∫ –¥–Ω–µ–π –Ω–µ–¥–µ–ª–∏
days_of_week = ["–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫", "–í—Ç–æ—Ä–Ω–∏–∫", "–°—Ä–µ–¥–∞", "–ß–µ—Ç–≤–µ—Ä–≥", "–ü—è—Ç–Ω–∏—Ü–∞", "–°—É–±–±–æ—Ç–∞", "–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ"]

# –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –±–ª—é–¥
available_dishes = {
    "–°—É–ø—ã": ["–ù–µ –≤—ã–±—Ä–∞–Ω–æ", "–ë–æ—Ä—â", "–ö—É—Ä–∏–Ω—ã–π —Å—É–ø", "–ì—Ä–∏–±–Ω–æ–π —Å—É–ø"],
    "–í—Ç–æ—Ä—ã–µ –±–ª—é–¥–∞": ["–ù–µ –≤—ã–±—Ä–∞–Ω–æ", "–ö–æ—Ç–ª–µ—Ç—ã —Å –ø—é—Ä–µ", "–ü–ª–æ–≤", "–ú–∞–∫–∞—Ä–æ–Ω—ã —Å —Å—ã—Ä–æ–º"],
    "–°–∞–ª–∞—Ç—ã": ["–ù–µ –≤—ã–±—Ä–∞–Ω–æ", "–û–ª–∏–≤—å–µ", "–í–∏–Ω–µ–≥—Ä–µ—Ç", "–°–∞–ª–∞—Ç –¶–µ–∑–∞—Ä—å"]
}

# –°–ø–∏—Å–æ–∫ —á–ª–µ–Ω–æ–≤ —Å–µ–º—å–∏
family_members = ["–ò–≤–∞–Ω", "–ú–∞—Ä–∏—è", "–ü–µ—Ç—Ä", "–ï–ª–µ–Ω–∞", "–î–º–∏—Ç—Ä–∏–π"]

# –°–ª–æ–≤–∞—Ä—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–∫–∞–∑–æ–≤
all_orders = {member: {} for member in family_members}

# –°–æ–∑–¥–∞–µ–º —Å–µ–∫—Ü–∏—é –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —á–ª–µ–Ω–∞ —Å–µ–º—å–∏
for member in family_members:
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, —á—Ç–æ–±—ã –æ—Ç–¥–µ–ª–∏—Ç—å —Å–µ–∫—Ü–∏–∏
    with st.container():
        st.markdown("---")
        st.header(f"üßë –ó–∞–∫–∞–∑ –¥–ª—è {member}")

        # –°–æ–∑–¥–∞–µ–º –ø–æ–ª—è –¥–ª—è –≤—ã–±–æ—Ä–∞ –±–ª—é–¥ –Ω–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å
        for day in days_of_week:
            st.subheader(f"üçΩÔ∏è {day}")
            
            # –í–∏–¥–∂–µ—Ç—ã –¥–ª—è –≤—ã–±–æ—Ä–∞ –±–ª—é–¥ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
            soup_choice = st.selectbox(
                f"–í—ã–±–µ—Ä–∏—Ç–µ —Å—É–ø –¥–ª—è {member.lower()} –Ω–∞ {day.lower()}:",
                available_dishes["–°—É–ø—ã"],
                key=f"{member}_soup_{day}" # –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–∏–¥–∂–µ—Ç–∞
            )
            main_course_choice = st.selectbox(
                f"–í—ã–±–µ—Ä–∏—Ç–µ –≤—Ç–æ—Ä–æ–µ –±–ª—é–¥–æ –¥–ª—è {member.lower()} –Ω–∞ {day.lower()}:",
                available_dishes["–í—Ç–æ—Ä—ã–µ –±–ª—é–¥–∞"],
                key=f"{member}_main_course_{day}"
            )
            salad_choice = st.selectbox(
                f"–í—ã–±–µ—Ä–∏—Ç–µ —Å–∞–ª–∞—Ç –¥–ª—è {member.lower()} –Ω–∞ {day.lower()}:",
                available_dishes["–°–∞–ª–∞—Ç—ã"],
                key=f"{member}_salad_{day}"
            )
            
            # –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—ã–±–æ—Ä –≤ —Å–ª–æ–≤–∞—Ä—å
            all_orders[member][day] = {
                "–°—É–ø": soup_choice,
                "–í—Ç–æ—Ä–æ–µ –±–ª—é–¥–æ": main_course_choice,
                "–°–∞–ª–∞—Ç": salad_choice
            }

# –ö–Ω–æ–ø–∫–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ–±—â–µ–π —Å–≤–æ–¥–∫–∏ –∑–∞–∫–∞–∑–æ–≤
st.markdown("---")
st.header("üìÑ –û–±—â–µ–µ –º–µ–Ω—é –Ω–∞ –Ω–µ–¥–µ–ª—é")
if st.button("–ü–æ–∫–∞–∑–∞—Ç—å –æ–±—â–µ–µ –º–µ–Ω—é"):
    for member in family_members:
        st.subheader(f"–ú–µ–Ω—é –¥–ª—è {member}:")
        df = pd.DataFrame(all_orders[member]).transpose()
        df = df.replace("–ù–µ –≤—ã–±—Ä–∞–Ω–æ", "‚Äî")
        st.dataframe(df)

# –ö–Ω–æ–ø–∫–∞ –¥–ª—è –ø–æ–¥—Å—á–µ—Ç–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (–∑–¥–µ—Å—å –±—É–¥–µ—Ç –≤–∞—à–∞ –ª–æ–≥–∏–∫–∞)
st.markdown("---")
if st.button("–ü–æ–¥—Å—á–∏—Ç–∞—Ç—å –æ–±—â–∏–π —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤"):
    st.warning("–§—É–Ω–∫—Ü–∏—è –ø–æ–¥—Å—á–µ—Ç–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –ø–æ–∫–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞.")
    # –ó–¥–µ—Å—å –±—É–¥–µ—Ç –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ –≤—Å–µ–º –∑–∞–∫–∞–∑–∞–º –∏ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ–±—â–∏–π —Å–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫.



